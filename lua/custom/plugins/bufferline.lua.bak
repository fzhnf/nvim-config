return {
  {
    'akinsho/bufferline.nvim',
    event = 'BufRead',
    keys = {
      { '<leader><Tab>', '<cmd>BufferLineMoveNext<CR>', desc = 'Move to the next tab', mode = 'n' },
      { '<leader><S-Tab>', '<cmd>BufferLineMovePrev<CR>', desc = 'Move to the previous tab', mode = 'n' },
      { '<leader>be', '<cmd>BufferLineSortByExtension', desc = 'Sort buffers by extension', mode = 'n' },
      { '<leader>bd', '<cmd>BufferLineSortByDirectory', desc = 'Sort buffers by directory', mode = 'n' },
    },
    config = function()
      local bufferline = require 'bufferline'
      local macchiato = require('catppuccin.palettes').get_palette 'macchiato'
      require('bufferline').setup {
        highlights = {
          tab = {
            fg = macchiato.lavender,
          },
          tab_selected = {
            fg = macchiato.base,
            bg = macchiato.lavender,
          },
          buffer_selected = {
            fg = macchiato.lavender,
            bg = macchiato.surface0,
            italic = true,
          },
        },
        options = {
          mode = 'buffers',
          style_preset = bufferline.style_preset.minimal,
          numbers = 'ordinal',
          close_command = 'conf bd %d',
          diagnostics = 'nvim_lsp',
          offsets = {
            {
              filetype = 'neo-tree',
              text = 'ÓæÅ  Explorer',
              text_align = 'left',
              highlight = 'Directory',
            },
          },
          show_buffer_close_icons = false,
          show_close_icon = false,
        },
      }
    end,
  },
}
